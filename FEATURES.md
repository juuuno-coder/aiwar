# AI Daejeon - 기능 개발 문서 v2.0

**최종 업데이트**: 2024-12-24  
**버전**: 2.0

---

## 📋 프로젝트 개요

**AI Daejeon**은 2030년 미래를 배경으로 한 AI 카드 전략 게임입니다. 플레이어는 24개의 AI 군단 중 5개를 구독하여 카드를 수집하고, 강화하며, 심리전이 가미된 가위바위보 전투를 통해 최강의 AI 군단을 만들어갑니다.

### 🎮 게임 컨셉
- **장르**: 심리전 가위바위보 카드 전략 게임
- **배경**: 2030년 AI 전쟁 시대
- **목표**: AI군단을 구독해 유닛 카드를 수집하고 강화하여 최강의 덱 구성
- **핵심 재화**: 코인, 토큰 (2가지로 통일)

---

## 🎯 핵심 기능

### 1. 군단 시스템 (Faction System)
**경로**: `/factions`, `/slots`

24개 AI 군단 중 **5개를 선택해서 구독**할 수 있습니다.

**주요 군단** (24개):
- **Super AI**: OpenAI, DeepMind, Anthropic, Google AI, Meta AI
- **Image AI**: Midjourney, Stability AI, DALL-E, Adobe Firefly
- **Video AI**: Runway, Pika, Sora
- **Audio AI**: ElevenLabs, Suno, Udio
- **Coding AI**: GitHub Copilot, Cursor, Replit, Tabnine
- **기타**: Cohere, Perplexity, Character.AI 등

**기능**:
- 5개 슬롯에 군단 배치
- 군단별 고유 특성 및 시너지
- 구독 기간 동안 **군단장 카드** 사용 가능
- 군단별 고유 유닛 카드 자동 생성

---

### 2. 카드 시스템 (Card System)

#### 2.1 카드 속성
모든 카드는 다음 속성을 가집니다:
- **이름 (name)**: 카드 고유 이름
- **타입 (type)**: 가위바위보 타입
  - **EFFICIENCY** (효율성) > **CREATIVITY** (창의성)
  - **CREATIVITY** (창의성) > **FUNCTION** (기능성)
  - **FUNCTION** (기능성) > **EFFICIENCY** (효율성)
- **등급 (rarity)**: Common, Rare, Epic, Legendary, Unique, Commander
- **스탯 (stats)**:
  - `efficiency`: 효율성 수치
  - `creativity`: 창의성 수치
  - `function`: 기능성 수치
  - `totalPower`: 총 전투력 (3가지 스탯 합산)
- **레벨**: 1~10 (강화를 통해 상승)
- **특수 스킬**: Epic 등급 이상부터 보유

#### 2.2 카드 획득
- **슬롯 생성**: 구독한 ai군단의 특수능력에 준해서 카드 자동 생성
- **상점** (`/shop`): 코인, 토큰으로 카드 구매
- **전투 보상**: PvE/PvP 승리 시 카드 획득
- **PvP 카드 따먹기**: 실시간 PvP 승리 시 상대방 일반카드 5장 획득 / 패배시 일반카드 5장 삭제
- **미션 보상**: 미션 완료 시 카드 획득
- **유니크 생성** (`/unique-unit`): 커스텀 카드 제작(생성))

#### 2.3 카드 관리
**경로**: `/my-cards`, `/inventory`
- 보유 카드 목록 확인
- 카드 상세 정보 및 스탯 확인
- 덱 구성 (전투용 5장 선택)

---

### 3. 카드 강화 시스템

#### 3.1 카드 강화 (Enhancement)
**경로**: `/enhance`
- **방식**: 동일 카드 10장 소모하여 스탯+1~+3 레벨 +1
- **효과**: 레벨당 스탯 +1~3증가 (랜덤))
- **최대 레벨**: 99 (카드앞에 +1~99 숫자 표시)

#### 3.2 카드 합성 (Fusion)
**경로**: `/fusion`
- **방식**: 동일 등급 카드 3장 → 상위 등급 카드 1장
- **확률**: 100% 성공
- **비용**: 코인

---

### 4. 전투 시스템 (Battle System) ⭐ **핵심**

#### 4.1 전투 모드 종류

##### 🎴 **1장 전투 (Single Card Battle)**
- **방식**: 단판 승부
- **흐름**:
  1. 양측 모두 5장 카드 선택
  2. 15초간 서로의 카드 공개
  3. 5장 중 1장 선택하여 출전
  4. 가위바위보 + 스탯으로 승부

**심리전 포인트**: 상대 카드를 보고 어떤 타입을 낼지 예측하여 카운터 카드 선택

---

##### 🎴 **5장 전투 A - 3선승 (Best of 5 - Standard)**
- **방식**: 3선승제
- **흐름**:
  1. 양측 모두 5장 카드 선택
  2. 20초간 서로의 카드 공개
  3. **출전 순서 결정** (1~5번 순서 지정)
  4. 1라운드부터 순차적으로 1:1 대결
  5. 먼저 3승 달성 시 승리

**전략 포인트**: 
- 출전 순서가 매우 중요
- 상대의 강한 카드를 약한 카드로 받아치고, 강한 카드로 상대의 약한 카드를 이기는 전략
- 심리전: 상대가 어떤 순서로 낼지 예측

---

##### 🎴 **5장 전투 B - 히든카드 (Best of 5 - Hidden)**
- **방식**: 3선승제 + 히든카드
- **흐름**:
  1. 양측 모두 5장 카드 선택
  2. 20초간 서로의 카드 공개
  3. **출전 순서 결정** (1~5번)
  4. **2, 4라운드용 히든카드 선택** (각 1장씩, 총 2장)
  5. 전투 시작:
     - **1, 3, 5 라운드**: 일반 1:1 대결
     - **2, 4 라운드**: 2장 대결 (기본 카드 + 히든카드)

**2/4 라운드 특수 규칙**:
- 첫 번째 대결 후, 히든카드로 2차 대결
- 2차 대결 승자가 해당 라운드 승자
- 1~2차 모두 승리 시 2승으로 간주 **1라운드까지 이겼다면 즉시 3-0 승리** (게임 종료)

**전략 포인트**:
- 히든카드를 언제 사용할지 결정
- 초반 승부를 볼지, 역전을 노릴지 선택
- 시간 단축 효과 (빠른 게임 진행)

---

#### 4.2 전투 판정 시스템

**우선순위**:
1. **타입 상성** (가위바위보)
   - EFFICIENCY > CREATIVITY
   - CREATIVITY > FUNCTION
   - FUNCTION > EFFICIENCY
2. **세부 전투력** (해당 타입 스탯)
   - 예: EFFICIENCY 타입끼리 붙으면 efficiency 스탯 비교
3. **총 전투력** (totalPower)
   - 세부 전투력도 동일하면 총 전투력으로 최종 판정

---

#### 4.3 PvE 전투
**경로**: `/battle`, `/battle/stage/[stageId]`, `/battle/fight`

- **스테이지 전투**: 난이도별 스테이지 클리어
- **전투 모드**: 1장 전투 또는 5장 전투 A/B
- **전투 보상**: 경험치, 코인, 카드 획득
- **시너지 효과**: 군단 시너지 적용

---

#### 4.4 PvP 전투
**경로**: `/pvp/match`, `/pvp/fight`, `/pvp/leaderboard`

- **매칭 시스템**: 비슷한 레벨의 플레이어와 매칭
- **전투 모드**: 5장 전투 A 또는 B
- **카드 따먹기**: 승리 시 상대방 일반카드 5장 획득
- **리더보드**: 랭킹 시스템
- **시즌 보상**: 시즌별 보상 지급

---

### 5. 스토리 모드 (Story Mode)
**경로**: `/story`, `/story/[chapterId]`, `/story/[chapterId]/battle`

- **챕터별 스토리**: AI 전쟁 관련 이야기
- **스토리 전투**: 스토리 진행 중 전투 발생
- **스토리 보상**: 챕터 클리어 시 특별 보상

---

### 6. 연구 시스템 (Research System)
**경로**: `/lab`, `/research`

#### 6.1 연구 메커니즘
- **연구 항목**: 6가지 스탯 연구
  - 통찰력, 효율성, 창의성, 안정성, 윤리성, 전략
- **연구 제한**: **한 번에 1개만 연구 가능**
- **연구 완료**: 완료 후 다른 연구 시작 가능
- **비용**: 코인, 토큰 소모
- **시간**: 연구별 소요 시간 (버프로 단축 가능)

#### 6.2 연구 효과
- **지휘관 스탯 증가**: 영구적인 능력치 상승
- **게임 전반 효과**: 
  - 카드 생성 속도 증가
  - 전투 보상 증가
  - 강화 비용 감소
  - 등등

#### 6.3 연구 효과 표시
- **Commander Profile**: 레이더 그래프로 연구 효과 시각화
- **실시간 반영**: 연구 완료 시 즉시 게임에 적용

---

### 7. 유니크 유닛 생성
**경로**: `/unique-unit`, `/unique-create`

- **유니크 카드 생성**: 플레이어만의 고유 카드 제작
- **입력 요소**:
  - 카드명 (직접 입력)
  - 설명 (직접 입력)
  - 이미지 (직접 입력 또는 생성)
- **능력치**: 랜덤 생성
- **생성 시간**: 36시간 (버프로 단축 가능)
- **생성 비용**: 코인 + 토큰

---

### 8. 미션 및 업적 시스템

#### 8.1 미션 (Missions)
**경로**: `/missions`
- 일일 미션
- 주간 미션
- 특별 미션

**보상**: 코인, 토큰, 카드, 경험치

#### 8.2 업적 (Achievements)
**경로**: `/achievements`
- 업적 시스템
- 업적 보상
- 단계별 업적

---

### 9. 도감 (Encyclopedia)
**경로**: `/encyclopedia`

- **카드 도감**: 모든 카드 정보
- **군단 정보**: 24개 군단 상세 정보
- **타입 정보**: 가위바위보 타입 상성
- **스킬 정보**: 특수 스킬 설명

---

### 10. 랭킹 시스템 (Ranking)
**경로**: `/ranking`

- 전체 랭킹
- 군단별 랭킹
- 시즌 랭킹
- 보상 시스템

---

### 11. 플레이어 시스템

#### 11.1 계정 관리
**경로**: `/login`, `/signup`, `/settings`
- Firebase 인증
- 프로필 설정 (닉네임, 아바타)
- 게임 설정

#### 11.2 자원 관리
**주요 자원** (2가지로 통일):
- **코인**: 기본 화폐 (전투, 미션, 상점 구매, 강화, 합성, 연구 비용)
- **토큰**: 프리미엄 화폐 (특별 보상, 유니크 생성)

---

## 🎨 UI/UX 시스템

### 커스텀 UI 컴포넌트
**경로**: `/components/ui/custom/`
- Card, Button, Modal, Badge, Progress 등

### Aceternity UI
**경로**: `/components/ui/aceternity/`
- 고급 애니메이션 효과
- 인터랙티브 UI

---

## 🔧 기술 스택

### Frontend
- **Framework**: Next.js 16 (App Router)
- **Language**: TypeScript
- **Styling**: Tailwind CSS
- **Animations**: Framer Motion

### Backend & Database
- **Authentication**: Firebase Auth
- **Database**: Firebase Firestore
- **Realtime**: Firebase Realtime Database (PvP)
- **Storage**: Firebase Storage
- **Hosting**: Vercel

### 상태 관리
- UserContext, LanguageContext, AlertContext, FooterContext

---

## 📊 게임 진행 흐름

```
게임 시작 → 튜토리얼 → 메인 화면
  ├─ 군단 구독 (5개 선택)
  ├─ 카드 생성/획득
  ├─ 카드 강화/합성
  ├─ 전투 (PvE/PvP)
  │   ├─ 1장 전투
  │   ├─ 5장 전투 A (3선승)
  │   └─ 5장 전투 B (히든카드)
  ├─ 연구 (지휘관 강화)
  ├─ 미션/업적
  └─ 보상 획득 → 반복
```

---

## 🎯 핵심 게임 루프

1. **군단 구독 후 생성 메뉴에서 ** → 유닛카드 자동 생성 및 수령
2. **카드 수집** → 전투, 상점, 미션
3. **카드 강화** → 강화, 합성
4. **전투** → PvE/PvP (심리전 가위바위보)
5. **연구** → 지휘관 능력 향상
6. **보상 획득** → 반복

---

## 🚀 개발 상태 및 우선순위

### ✅ Phase 1: 완료된 기능 (2024-12-24 기준)

#### 핵심 시스템
- [x] 기본 UI/UX (Aceternity + 커스텀)
- [x] 군단 시스템 (24개 군단, 5슬롯 구독)
- [x] 카드 시스템 (타입, 등급, 스탯)
- [x] 슬롯 시스템 (시너지 효과)
- [x] 상점 시스템
- [x] 인벤토리/내 카드
- [x] 카드 강화 시스템
- [x] 카드 합성 시스템
- [x] 기본 PvE 전투 (가위바위보)
- [x] 기본 PvP 시스템
- [x] 스토리 모드
- [x] 미션/업적 시스템
- [x] 연구 시스템 (기본)
- [x] 유니크 유닛 생성
- [x] 백과사전(도감))
- [x] 랭킹 시스템
- [x] 계정 시스템 (Firebase)
- [x] 다국어 지원 (한/영)
- [x] **재화 통일** (코인, 토큰)
- [x] **성능 최적화** (연구 페이지)

---

### 🔥 Phase 2: 최우선 개발 (진행 중)

#### 전투 시스템 고도화 ⭐⭐⭐
- [ ] **1장 전투 모드** 구현
  - [ ] 카드 선택 UI
  - [ ] 20초 카드 공개 타이머
  - [ ] 1장 선택 및 전투
  - [ ] 승부 판정

- [ ] **5장 전투 A (3선승)** 구현
  - [ ] 출전 순서 결정 UI
  - [ ] 라운드별 1:1 대결
  - [ ] 3선승 판정
  - [ ] 전투 결과 화면

- [ ] **5장 전투 B (히든카드)** 구현
  - [ ] 히든카드 선택 UI
  - [ ] 2/4 라운드 2장 대결 로직
  - [ ] 즉시 승리 조건 (3-0)
  - [ ] 히든카드 공개 연출

#### 연구 시스템 완성
- [ ] **연구 효과 실제 적용**
  - [ ] 카드 생성 속도 버프
  - [ ] 전투 보상 증가
  - [ ] 강화 비용 감소
  - [ ] 유니크 생성 시간 단축

- [ ] **Commander Profile 개선**
  - [ ] 레이더 그래프에 연구 효과 표시
  - [ ] 연구 완료 현황 시각화

---

### 📅 Phase 3: 콘텐츠 확장 (예정)

#### 카드 & 밸런스
- [ ] 더 많은 카드 추가 (군단별 10장 이상)
- [ ] 카드 밸런스 조정
- [ ] 특수 스킬 다양화

#### 스토리 & 스테이지
- [ ] 추가 스토리 챕터 (10개 이상)
- [ ] 더 많은 PvE 스테이지
- [ ] 보스 전투 시스템

#### 보상 시스템
- [ ] 게임 밸런스 조정
- [ ] 보상 시스템 밸런싱
- [ ] 일일 출석 보상

---

### 🌟 Phase 4: 고급 기능 (장기)

#### 소셜 기능
- [ ] 길드 시스템
- [ ] 친구 시스템
- [ ] 채팅 시스템

#### 이벤트 & 경쟁
- [ ] 토너먼트 시스템
- [ ] 이벤트 시스템
- [ ] 시즌 패스

---

## 📝 변경 이력

### 2024-12-24 (v2.0)
- ✅ 전투 시스템 재설계 (1장, 5장 A/B 모드)
- ✅ 재화 통일 (코인, 토큰)
- ✅ 연구 시스템 개선 (1개만 진행 가능)
- ✅ 성능 최적화 (연구/랩 페이지)
- ✅ 용어 개선 ('해금' → '개방'/'활성화')
- ✅ 기능 개발 문서 v2.0 작성

---

## 📞 지원

- **경로**: `/support`
- **문의**: support@aidaejeon.com

---

**즐거운 게임 되세요! 🎮✨**
